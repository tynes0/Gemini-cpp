\doxysection{storage.\+h}
\hypertarget{storage_8h_source}{}\label{storage_8h_source}\index{gemini/storage.h@{gemini/storage.h}}
\mbox{\hyperlink{storage_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#ifndef\ GEMINI\_STORAGE\_H}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#define\ GEMINI\_STORAGE\_H}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{chat__session_8h}{chat\_session.h}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_gemini_c_p_p}{GeminiCPP}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage}{IChatStorage}}}
\DoxyCodeLine{00020\ \ \ \ \ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_afbb1c74d2760106e78cff6ce18662fb2}{\string~IChatStorage}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_a8aefd37a52bef7d04baa9a286d167eda}{save}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_chat_session}{ChatSession}}\&\ session)\ =\ 0;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<ChatSession>}}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_a74d550ab7fe89e8c877a1295963c27e2}{load}}(\textcolor{keyword}{const}\ std::string\&\ sessionId,\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_client}{Client}}*\ client)\ =\ 0;}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ std::vector<std::string>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_a05332ed879d3330fb4b85082fb4bae30}{listSessions}}()\ =\ 0;}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ std::future<bool>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_a299d07e6d3be942849c7db0ef85db6a5}{saveAsync}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_chat_session}{ChatSession}}\&\ session)\ =\ 0;}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ std::future<Result<ChatSession>>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_aea07fcb17698685c3972f3fe85764186}{loadAsync}}(\textcolor{keyword}{const}\ std::string\&\ sessionId,\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_client}{Client}}*\ client)\ =\ 0;}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ std::future<std::vector<std::string>>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage_a84f71e587026e514a317587d0efbb7f6}{listSessionsAsync}}()\ =\ 0;}
\DoxyCodeLine{00057\ \ \ \ \ \};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_af0ad68c77b92f8560e2376d6961b31cf}{LocalStorage}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage}{IChatStorage}}}
\DoxyCodeLine{00063\ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_af0ad68c77b92f8560e2376d6961b31cf}{LocalStorage}}(std::string\ rootPath\ =\ \textcolor{stringliteral}{"{}chats"{}});}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_a79ab5d8b3144243b7f55608ac654ef9d}{save}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_chat_session}{ChatSession}}\&\ session)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<ChatSession>}}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_aa219de1bb1bf73cb96f92fa98ec133c3}{load}}(\textcolor{keyword}{const}\ std::string\&\ sessionId,\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_client}{Client}}*\ client)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::vector<std::string>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_aba0a8539e53413a394f0b8c394147c8f}{listSessions}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::future<bool>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_a596d6e48ec09412483b3716cc8561991}{saveAsync}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_chat_session}{ChatSession}}\&\ session)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::future<Result<ChatSession>>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_a8fb3e33262dd765fadb0287a7cac948c}{loadAsync}}(\textcolor{keyword}{const}\ std::string\&\ sessionId,\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_client}{Client}}*\ client)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::future<std::vector<std::string>>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_local_storage_afed055c9c3c8e92b0b9b1e4e27352a62}{listSessionsAsync}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ std::string\ rootPath\_;}
\DoxyCodeLine{00107\ \ \ \ \ \};}
\DoxyCodeLine{00108\ \ \ \ \ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a885fa982694fdb2aa264fbcbcb5d1e9d}{RemoteStorage}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_i_chat_storage}{IChatStorage}}}
\DoxyCodeLine{00114\ \ \ \ \ \{}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a885fa982694fdb2aa264fbcbcb5d1e9d}{RemoteStorage}}(std::string\ baseUrl,\ std::string\ authToken\ =\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a0b573fb15ed5da162e6ed7adc61ab2bf}{save}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_chat_session}{ChatSession}}\&\ session)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<ChatSession>}}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a105cbe285d721f392ed668135bc265ca}{load}}(\textcolor{keyword}{const}\ std::string\&\ sessionId,\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_client}{Client}}*\ client)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::vector<std::string>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a783406b5a52ff235f93f8dbf68922610}{listSessions}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::future<bool>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a7031472a71a47e6bdd66655be63710c9}{saveAsync}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_chat_session}{ChatSession}}\&\ session)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::future<Result<ChatSession>>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_a2c3ef07cff1fa0d98beab2405797aaa3}{loadAsync}}(\textcolor{keyword}{const}\ std::string\&\ sessionId,\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_client}{Client}}*\ client)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::future<std::vector<std::string>>\ \mbox{\hyperlink{class_gemini_c_p_p_1_1_remote_storage_ad04a30c901c1b319023e49bc1e5916eb}{listSessionsAsync}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ std::string\ baseUrl\_;}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ std::string\ authToken\_;}
\DoxyCodeLine{00160\ \ \ \ \ \};}
\DoxyCodeLine{00161\ \}}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ GEMINI\_STORAGE\_H}}

\end{DoxyCode}
