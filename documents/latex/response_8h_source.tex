\doxysection{response.\+h}
\hypertarget{response_8h_source}{}\label{response_8h_source}\index{gemini/response.h@{gemini/response.h}}
\mbox{\hyperlink{response_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#ifndef\ GEMINI\_RESPONSE\_H}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#define\ GEMINI\_RESPONSE\_H}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <nlohmann/json.hpp>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{http__mapped__status__code_8h}{http\_mapped\_status\_code.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{generating__content__api__types_8h}{types/generating\_content\_api\_types.h}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_gemini_c_p_p}{GeminiCPP}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result}}}
\DoxyCodeLine{00020\ \ \ \ \ \{}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_afcab5270b5b689b27d1308278f8fb5a8}{success}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ std::optional<T>\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_aa2cc5bb218fcea97b124e0029a43f7ee}{value}};}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a53ee32d721702662b857e2dcff57d8fb}{errorMessage}};}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ HttpMappedStatusCode\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a7a70a50a34626230c8351eaf58ff0ab1}{statusCode}}\ =\ HttpMappedStatusCode::STATUS\_CODE\_UNSPECIFIED;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<T>}}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a191b0fd3edafc41331f628b297d8d2dc}{Success}}(T\ val,\ \textcolor{keywordtype}{int}\ code\ =\ frenum::value(HttpMappedStatusCode::OK))}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<T>}}\ r;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ r.\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_afcab5270b5b689b27d1308278f8fb5a8}{success}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ r.\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_aa2cc5bb218fcea97b124e0029a43f7ee}{value}}\ =\ std::move(val);}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ r.\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a7a70a50a34626230c8351eaf58ff0ab1}{statusCode}}\ =\ \textcolor{keyword}{static\_cast<}HttpMappedStatusCode\textcolor{keyword}{>}(code);}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ r;}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<T>}}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a3f77bf7c198e7aadd6d041d631bcfac6}{Failure}}(std::string\ err,\ \textcolor{keywordtype}{int}\ code\ =\ frenum::value(HttpMappedStatusCode::STATUS\_CODE\_UNSPECIFIED))}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result}{Result<T>}}\ r;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ r.\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_afcab5270b5b689b27d1308278f8fb5a8}{success}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ r.\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a53ee32d721702662b857e2dcff57d8fb}{errorMessage}}\ =\ std::move(err);}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ r.\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a7a70a50a34626230c8351eaf58ff0ab1}{statusCode}}\ =\ \textcolor{keyword}{static\_cast<}HttpMappedStatusCode\textcolor{keyword}{>}(code);}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ r;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ bool()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_afcab5270b5b689b27d1308278f8fb5a8}{success}};\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ T*\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a1bd2ea2b9aff3692541474c3e773739c}{operator-\/>}}()\ \{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_aa2cc5bb218fcea97b124e0029a43f7ee}{value}}.value();\ \}}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ T*\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_ac1f7181d85e91df4b263520fde9a49b7}{operator-\/>}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_aa2cc5bb218fcea97b124e0029a43f7ee}{value}}.value();\ \}}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ T\&\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_ac651cda85aea24c54bc02dc0d298dd46}{operator*}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_aa2cc5bb218fcea97b124e0029a43f7ee}{value}}.value();\ \}}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_a09c0c95be71d88b35b8670d8c35fae29}{operator*}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_result_aa2cc5bb218fcea97b124e0029a43f7ee}{value}}.value();\ \}}
\DoxyCodeLine{00051\ \ \ \ \ \};}
\DoxyCodeLine{00052\ \ \ \ \ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result}{GenerationResult}}}
\DoxyCodeLine{00059\ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_aac8c2b0a105131ef5d8575b9e317f819}{success}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_content}{Content}}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_aa6cb0737fbbc8c4ef9c1b0fe319f5f29}{content}};}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ std::string\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_a3df617ef768a4ad2299cd90ab121b988}{errorMessage}};}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ HttpMappedStatusCode\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_a6834ce64aa6402448caacf296943d64f}{statusCode}}\ =\ HttpMappedStatusCode::STATUS\_CODE\_UNSPECIFIED;}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_gemini_c_p_p_ab0640c43614ccb6bb1944a0d6f7f7d16}{FinishReason}}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_a59a3c2c74d17215996a197cfe77e064a}{finishReason}}\ =\ FinishReason::FINISH\_REASON\_UNSPECIFIED;}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Token\ Usage}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_a9f9f1318e3263a6463b5607272ba71bd}{inputTokens}}\ =\ 0;}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_a72bd84c457bab239212ffece7eefa5ad}{outputTokens}}\ =\ 0;}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_ab77ccbdb75700e38f19a095a29b1f686}{totalTokens}}\ =\ 0;}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ std::optional<GroundingMetadata>\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_aa19fc3fc2ce5d215c97725901cf702a2}{groundingMetadata}};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::string\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_adec6f39e3e13a185d6b6074bd38d0e35}{text}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_acb4e6969b39b7318d4c81590008ac2a2}{saveFile}}(\textcolor{keyword}{const}\ std::string\&\ filepath,\ \textcolor{keywordtype}{size\_t}\ blobIndex\ =\ 0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_a901f2595cbfd694e905e275cb0d0a541}{saveAllFiles}}(\textcolor{keyword}{const}\ std::string\&\ directory,\ \textcolor{keyword}{const}\ std::string\&\ prefix\ =\ \textcolor{stringliteral}{"{}output"{}})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result}{GenerationResult}}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_af03ca07359f7aedc5f949eceba163963}{Success}}(}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_content}{Content}}\ c,}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ code\ =\ frenum::value(HttpMappedStatusCode::OK),}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ inTok\ =\ 0,}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ outTok\ =\ 0,}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_gemini_c_p_p_ab0640c43614ccb6bb1944a0d6f7f7d16}{FinishReason}}\ reason\ =\ FinishReason::STOP,}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ std::optional<GroundingMetadata>\ metadata\ =\ std::nullopt}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result}{GenerationResult}}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_aa4885ed8dd4068cb3905e2aff9b1db4e}{Failure}}(std::string\ err,}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ code\ =\ frenum::value(HttpMappedStatusCode::STATUS\_CODE\_UNSPECIFIED),\ \mbox{\hyperlink{namespace_gemini_c_p_p_ab0640c43614ccb6bb1944a0d6f7f7d16}{FinishReason}}\ reason\ =\ FinishReason::OTHER);}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ bool()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_aac8c2b0a105131ef5d8575b9e317f819}{success}};\ \}}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ [[nodiscard]]\ std::optional<nlohmann::json>\ \mbox{\hyperlink{struct_gemini_c_p_p_1_1_generation_result_aa7a0cf396820d01d419154c61d1ab9fd}{asJson}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \};}
\DoxyCodeLine{00117\ \}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
